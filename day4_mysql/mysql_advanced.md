# mysql进阶 #
内连接
	
	select * from a inner join b on a.id=b.id inner join c on ...

交叉连接

	A as a across join B as b on a.id=b.aid;

复制表

	create table tb2 like tb1;

复制表的数据

	insert into tb2 select * from tb1;

# 索引 #

索引可以理解为表记录的目录   

索引在数据库开放中骑着非常重要的作用，通过在表字段中建立索引可以优化查询、确保数据的唯一性，并且可以对任何全文索引字段大量文本的搜索进行优化。     
  
在mysql中4类索引  
- 主键索引（primary key）
- 唯一索引(unique index)
- 常规索引(index)
- 全文索引(funtext index)

索引是建立在表中的字段上的--->索引文件  

索引不需要人工调用，只要SQL语句在条件部分使用了被索引的字段，mysql会自动调用，自动查找，自动运行。   

使用索引的好处：

- 避免了检索数据时磁盘的全表扫描，可以节省扫描时间，可以节省记录排队进入内存和CPU的时间。
- 对于多表连接和嵌套查询更加有利
- 对于特定的索引找出max（）和min()值。  

使用索引的缺点：

- 占用磁盘空间
- 如果索引建立过多，那么扫描索引目录文件浪费时间过多
- 虽然提高了查询速度，但是却降低了更新表的速度。


## 索引分类 ##
根据纪录特点

- 普通索引
- 主键索引
- 唯一索引
- 全文索引

根据索引个数

- 单列索引
- 多列索引


 1. 多列普通索引
 2. 多列唯一索引
 3. 多列主键索引

全文索引  
全文索引不像主键索引、普通索引和唯一索引一样，它不是用来优化普通的数据库查询的，它主要是用来取代like这种模糊查询的。

使用全文索引要注意：  
1. 如果查询的字段的部分内容在内容中出现率>50%
2. 或者表中记录<2条的时候，全文索引没用
3. 查询记录占总记录50%以上全文索引也没用
4. mysql默认不开启全文索引

## 视图 ##
什么是视图   
视图是一个或多个表中导出来的表，是一种虚拟存在的表   
视图就像一个窗口，通过这个窗口可以看到系统专门提供的数据   
数据库中只存放了视图的定义，而没有存放视图的数据，这些数据存放在原来的表中   
使用视图查询数据时，数据库系统会从原来的表中读取出相应的数据

视图的作用 
       
- 使操作简单化
- 增加数据安全性
- 提高表的逻辑独立性

视图的特点 
  
- 视图只能做检索功能
- 视图的表名与其他表名不能重复
- 视图主要是多表查询的结果，单表视图是没有任何意义的


 视图的创建

	create view 视图名 as 多表查询的sql语句  

视图的查询 

	select * from viewname

修改视图

	alter view 视图名 as 新的sql语句 

删除视图

	drop view 视图名

## 存储过程 ##

存储过程是一组为了完成特定功能的sql语句集，经过编译后存储在数据库中，用户通过制定存储过程的名字给定参数来调用执行它。

存储过程优点：   

- 存储过程增强了sql语言的功能和灵活性   
- 存储过程可以被多次调用
- 存储过程能够实现较快的执行速度
- 存储过程被作为一种安全机制充分利用。


## 触发器  ##

触发器是一种特殊的存储过程，它在插入、删除或修改特定表中的数据时触发它。它比数据库本身标准的功能有更精细和更复杂的数据控制能力。

触发器的特点：     

- 安全性
- 审计
- 实现复杂数据完整性规则
- 实现复杂的非标准数据库相关完整性规则
- 同步实时地复制表中的数据
- 自动计算数据值。


## 事务 ##
事务是数据库操作的最小单元。   
一般mysql数据库默认引擎是myisam,这种引擎不支持事务。只有innodb支持事务    
特性： 
  
1. 原子性：atomicity
2. 隔离性：consistency
3. 一致性：isolation
4. 永久性：durability
